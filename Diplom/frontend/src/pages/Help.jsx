import React, { useState } from 'react';
import './Help.css';

const faqData = [
    {
        question: "Почему после включения 2FA меня просят ввести код при каждом входе?",
        answer: "Это мера безопасности. Код запрашивается при каждом входе с нового устройства или после очистки кэша браузера.",
    },
    {
        question: "Я изменил имя профиля, но на сертификате всё равно старое имя. Почему?",
        answer: "Имя для сертификата настраивается отдельно в профиле. Оно не связано напрямую с именем аккаунта.",
    },
    {
        question: "Я включил 2FA, но при входе мне не приходит код на почту. Что делать?",
        answer: "Проверьте папку «Спам». Убедитесь, что почта указана верно. При необходимости обратитесь в поддержку.",
    },
    {
        question: "Я прошёл курс, но он не отображается как завершённый. Почему?",
        answer: "Курс считается завершённым только при успешной сдаче теста. Убедитесь, что вы набрали проходной балл.",
    },
    {
        question: "Почему некоторые курсы недоступны или скрыты?",
        answer: "Они могут быть временно отключены для проверки или доработки администрацией.",
    },
    {
        question: " Можно ли изменить уже выданный сертификат?",
        answer: "Да. Обновите имя для сертификата в настройках, затем повторно загрузите сертификат в разделе «Мои курсы»",
    },
    {
        question: "Как защитить свой аккаунт от взлома",
        answer: "Используйте сложный пароль, активируйте двухфакторную аутентификацию",
    },
    {
        question: "Что делать, если я забыл пароль и не получил письмо для восстановления?",

        answer: "Проверьте папку «Спам» или попробуйте снова. Если письмо не приходит — напишите на help@agroinnova.com",
    },
    {
        question: "Почему моя фотография профиля не загружается?",
        answer: "Убедитесь, что файл — JPG/PNG и не превышает 2MB. Проверьте подключение к интернету.",
    },
    {
        question: "Можно ли восстановить удалённый аккаунт?",
        answer: "Да, в течение 14 дней. Обратитесь в поддержку, указав ваш email.",
    },
    {
        question: "Почему мне не приходит подтверждение email при регистрации?",
        answer: "Возможно, письмо попало в «Спам». Также можно отправить письмо повторно на странице подтверждения.",
    },
    {
        question: "Почему тест закрывается, если я случайно обновляю страницу?",
        answer: "Для защиты от читерства система фиксирует первую попытку. Обратитесь в поддержку, если это было случайно.",
    },
    {
        question: "Как изменить имя на сертификате, если я допустил ошибку?",
        answer: "Перейдите в настройки → имя для сертификата и обновите его. Новые сертификаты будут с новым именем.",
    },
    {
        question: "Почему я не могу пройти следующий модуль курса?",
        answer: "Убедитесь, что вы завершили все шаги и прошли тест предыдущего модуля. Только после этого откроется следующий.",
    },
    {
        question: "Что делать, если при входе отображается ошибка сервера?",
        answer: "Попробуйте перезагрузить страницу и очистить кэш. Если не помогло — сообщите в поддержку через форму.",
    },
];


const Help = () => {
    const [openIndex, setOpenIndex] = useState(null);

    const toggleFAQ = (index) => {
        setOpenIndex(openIndex === index ? null : index);
    };

    return (
        <div className="help-container">
            <h2>Часто задаваемые вопросы</h2>
            {faqData.map((item, index) => (
                <div key={index} className="faq-item">
                    <div className="faq-question" onClick={() => toggleFAQ(index)}>
                        <strong>{index + 1}. {item.question}</strong>
                        <span className="arrow">{openIndex === index ? '▲' : '▼'}</span>
                    </div>
                    {openIndex === index && (
                        <div className="faq-answer">
                            {item.answer}
                        </div>
                    )}
                </div>
            ))}
            <div className="help-contact">
                <p className="help-contact-title">Не нашли ответа на свой вопрос?</p>
                <p>
                    Напишите нам на <a href="mailto:help@agroinnova.com">help@agroinnova.com</a>, и мы вам обязательно поможем.
                </p>
            </div>

        </div>
    );
};

export default Help;
